I"±-<p>â€‹	    Swaggeræ˜¯ä¸€ä¸ªç®€å•åˆå¼ºå¤§çš„èƒ½ä¸ºä½ çš„Restfulé£æ ¼çš„Apiç”Ÿæˆæ–‡æ¡£å·¥å…·ã€‚éšç€äº’è”ç½‘æŠ€æœ¯çš„å‘å±•ï¼Œç°åœ¨çš„ç½‘ç«™æ¶æ„åŸºæœ¬éƒ½æ˜¯å‰ç«¯æ¸²æŸ“ã€åç«¯åˆ†ç¦»çš„å½¢æ€ã€‚è€Œå‰ç«¯å’Œåç«¯çš„å”¯ä¸€è”ç³»ï¼Œå˜æˆäº†APIæ¥å£ï¼ŒAPIæ–‡æ¡£å˜æˆäº†å‰åç«¯å¼€å‘äººå‘˜è”ç³»çš„çº½å¸¦ã€‚åœ¨é¡¹ç›®ä¸­é›†æˆè¿™ä¸ªå·¥å…·ï¼Œæ ¹æ®æˆ‘ä»¬è‡ªå·±çš„é…ç½®ä¿¡æ¯èƒ½å¤Ÿè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªapiæ–‡æ¡£å±•ç¤ºé¡µï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®æŸ¥çœ‹é¡¹ç›®ä¸­çš„æ¥å£ä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æµ‹è¯•æ¯ä¸ªapiæ¥å£ã€‚Swaggerç”Ÿæˆçš„apiæ–‡æ¡£æ˜¯å®æ—¶æ›´æ–°çš„ï¼Œä½ å†™çš„apiæ¥å£æœ‰ä»»ä½•çš„æ”¹åŠ¨éƒ½ä¼šåœ¨æ–‡æ¡£ä¸­åŠæ—¶å¾—è¡¨ç°å‡ºæ¥ã€‚è¯¦æƒ…å¯ä»¥å‚è€ƒ<a href="https://swagger.io/">å®˜æ–¹ç½‘ç«™</a>ã€‚
â€‹</p>
<h3 id="å‰è¨€">å‰è¨€</h3>

<p>æ•ˆæœæ¼”ç¤º</p>

<p><img src="/images/posts/swagger/swagger_show.gif" height="300" width="800" /></p>

<h3 id="å‡†å¤‡é˜¶æ®µ">å‡†å¤‡é˜¶æ®µ</h3>

<p>é¡¹ç›®ä¸­çš„springç‰ˆæœ¬å¦‚ä¸‹ã€å…¶å®ƒç‰ˆæœ¬å¯èƒ½ä¸é€‚åˆï¼Œæœ‰å‘çš„è¯éœ€è¦è‡ªå·±æ…¢æ…¢å¡« â•®ï¼ˆï¹€ï¼¿ï¹€ï¼‰â•­ æˆ‘ä¹Ÿæ˜¯å¾ˆæ‡’çš„ï¼Œè¿™ä¸ªsecurityè²Œä¼¼æœ‰ç‚¹å½±å“ã€‘ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;properties&gt;</span>
        	<span class="nt">&lt;org.springframework.version&gt;</span>4.2.5.RELEASE<span class="nt">&lt;/org.springframework.version&gt;</span>
		<span class="nt">&lt;activiti.version&gt;</span>5.20.0<span class="nt">&lt;/activiti.version&gt;</span>
		<span class="nt">&lt;spring.security.version&gt;</span>3.2.3.RELEASE<span class="nt">&lt;/spring.security.version&gt;</span>
		<span class="nt">&lt;shiro.version&gt;</span>1.2.3<span class="nt">&lt;/shiro.version&gt;</span>
		<span class="nt">&lt;spring.mybatis.version&gt;</span>1.3.0<span class="nt">&lt;/spring.mybatis.version&gt;</span>
		<span class="nt">&lt;mybatis.version&gt;</span>3.4.0<span class="nt">&lt;/mybatis.version&gt;</span>
<span class="nt">&lt;/properties&gt;</span>
</code></pre></div></div>

<h3 id="æ•´åˆæ­¥éª¤">æ•´åˆæ­¥éª¤</h3>

<ol>
  <li>
    <p>åŠ å…¥ springfox çš„ jaråŒ…</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>springfox-swagger2<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.2.2<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
   
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>springfox-swagger-ui<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.2.2<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
   
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>io.swagger<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>swagger-annotations<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.5.3<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
   
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>springfox-staticdocs<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.2.2<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>web.xml</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nt">&lt;servlet-mapping&gt;</span>
		<span class="nt">&lt;servlet-name&gt;</span>springServlet<span class="nt">&lt;/servlet-name&gt;</span>
		<span class="nt">&lt;url-pattern&gt;</span>/swagger-resources<span class="nt">&lt;/url-pattern&gt;</span>
	<span class="nt">&lt;/servlet-mapping&gt;</span>
	<span class="nt">&lt;servlet-mapping&gt;</span>
		<span class="nt">&lt;servlet-name&gt;</span>springServlet<span class="nt">&lt;/servlet-name&gt;</span>
		<span class="nt">&lt;url-pattern&gt;</span>/v2/api-docs<span class="nt">&lt;/url-pattern&gt;</span>
	<span class="nt">&lt;/servlet-mapping&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ·»åŠ  swaggerConfig é…ç½®æ–‡ä»¶</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package com.**.***.manage;
   
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.EnableWebMvc;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;
   
@EnableWebMvc
@EnableSwagger2
@Configuration
public class SwaggerConfig {
    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.***.***.manage.controller")) // æ³¨æ„ä¿®æ”¹æ­¤å¤„çš„åŒ…å
                .paths(PathSelectors.any())
                .build();
    }
   
    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("æ¥å£åˆ—è¡¨ v1.1.0") // ä»»æ„ï¼Œè¯·ç¨å¾®è§„èŒƒç‚¹
                .description("æ¥å£æµ‹è¯•") // ä»»æ„ï¼Œè¯·ç¨å¾®è§„èŒƒç‚¹
                .termsOfServiceUrl("http://url/swagger-ui.html") // å°†â€œurlâ€æ¢æˆè‡ªå·±çš„ip:port(ä¾‹å¦‚"http://localhost:8080/swagger-ui.html")
                .contact("laowu") // æ— æ‰€è°“ï¼ˆè¿™é‡Œæ˜¯ä½œè€…çš„åˆ«ç§°ï¼‰
                .version("1.1.0")
                .build();
    }
}
</code></pre></div>    </div>
  </li>
  <li>
    <p>ä¸ºæ¥å£æ·»åŠ æ³¨è§£</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="nd">@Api</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"å¹¿å‘Šcontroller"</span><span class="o">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s">"å¹¿å‘Šæ“ä½œ"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdverController</span> <span class="kd">extends</span> <span class="nc">BaseController</span> <span class="o">{</span>
   
	<span class="nd">@ApiOperation</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"å¯¼å…¥ä¿¡æ¯"</span><span class="o">,</span> <span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">,</span> <span class="n">notes</span> <span class="o">=</span> <span class="s">"å¯¼å…¥ä¿¡æ¯"</span><span class="o">)</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/modules/manage/importUserBlack.htm"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">importUserInfo</span><span class="o">(</span>
        	<span class="nd">@ApiParam</span><span class="o">(</span><span class="n">required</span><span class="o">=</span><span class="kc">true</span><span class="o">,</span><span class="n">value</span><span class="o">=</span><span class="s">"ç”¨æˆ·æ–‡ä»¶"</span><span class="o">,</span><span class="n">name</span><span class="o">=</span><span class="s">"userInfoFile"</span><span class="o">)</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"userInfoFile"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">userInfoFile</span><span class="o">,</span>
		<span class="nd">@ApiParam</span><span class="o">(</span><span class="n">required</span><span class="o">=</span><span class="kc">true</span><span class="o">,</span><span class="n">value</span><span class="o">=</span><span class="s">"ç§ç±»"</span><span class="o">,</span><span class="n">name</span><span class="o">=</span><span class="s">"type"</span><span class="o">)</span> <span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"type"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">type</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
					<span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <blockquote>
      <p>å¸¸ç”¨æ³¨è§£ï¼š</p>

      <p>@Api:æ³¨è§£controllerï¼Œvalueä¸º@RequestMappingè·¯å¾„</p>

      <p>@ApiOperation:æ³¨è§£æ–¹æ³•ï¼Œvalueä¸ºç®€è¦æè¿°,notesä¸ºå…¨é¢æè¿°,hidden=true Swaggerå°†ä¸æ˜¾ç¤ºè¯¥æ–¹æ³•ï¼Œé»˜è®¤ä¸ºfalse</p>

      <p>@ApiParam:æ³¨è§£å‚æ•°,hidden=true Swaggerå‚æ•°åˆ—è¡¨å°†ä¸æ˜¾ç¤ºè¯¥å‚æ•°,nameå¯¹åº”å‚æ•°åï¼Œvalueä¸ºæ³¨é‡Šï¼ŒdefaultValueè®¾ç½®é»˜è®¤å€¼,allowableValuesè®¾ç½®èŒƒå›´å€¼,requiredè®¾ç½®å‚æ•°æ˜¯å¦å¿…é¡»ï¼Œé»˜è®¤ä¸ºfalse</p>

      <p>@ApiModel:æ³¨è§£Model</p>

      <p>@ApiModelProperty:æ³¨è§£Modelä¸‹çš„å±æ€§ï¼Œå½“å‰ç«¯ä¼ è¿‡æ¥çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶swaggerä¸­è¯¥å¯¹è±¡çš„å±æ€§æ³¨è§£å°±æ˜¯ApiModelPropertyä¸­çš„value</p>

    </blockquote>
  </li>
  <li>
    <p>ç”¨æµè§ˆå™¨è¾“å…¥<code class="language-plaintext highlighter-rouge">&lt;http://localhost:8081/swagger-ui.html#/&gt;</code>ï¼Œå³å¯è®¿é—® swagger-uiã€‚</p>
  </li>
</ol>

<h3 id="å¯èƒ½çš„å‘">å¯èƒ½çš„å‘</h3>

<ol>
  <li>
    <p>å¯èƒ½è®¾ç½®swagger-ui.htmlé»˜è®¤è·¯å¾„ï¼Œåœ¨web-main.xmlä¸­æ·»åŠ </p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nt">&lt;mvc:resources</span> <span class="na">mapping=</span><span class="s">"swagger-ui.html"</span> <span class="na">location=</span><span class="s">"classpath:/META-INF/resources/"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;mvc:resources</span> <span class="na">mapping=</span><span class="s">"/webjars/**"</span> <span class="na">location=</span><span class="s">"classpath:/META-INF/resources/webjars/"</span><span class="nt">/&gt;</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="æ„Ÿè°¢">æ„Ÿè°¢</h3>

<ul>
  <li>
    <p><a href="https://www.cnblogs.com/fangyuan303687320/p/5066388.html">SpringMVCé¡¹ç›®æ¥å…¥Springfoxå®æˆ˜é‡åˆ°çš„é—®é¢˜é›†åˆ</a></p>
  </li>
  <li>
    <p><a href="https://blog.csdn.net/z28126308/article/details/71126677">SpringMVCæ³¨è§£é…ç½®Swagger2æ­¥éª¤åŠç›¸å…³çŸ¥è¯†ç‚¹</a></p>
  </li>
  <li>
    <p><a href="https://blog.csdn.net/xiang__liu/article/details/80396642">å¦‚ä½•ç¼–å†™åŸºäºOpenAPIè§„èŒƒçš„APIæ–‡æ¡£</a></p>
  </li>
</ul>

:ET